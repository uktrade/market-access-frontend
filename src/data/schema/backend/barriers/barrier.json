{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"title": "Detail of a report",

	"type": "object",
	"required": [
		"id",
		"barrier_type",
		"barrier_title",
		"summary",
		"report",
		"current_status",
		"reported_on",
		"company",
		"export_country",
		"has_legal_infringement",
		"wto_infringement",
		"fta_infringement",
		"other_infringement",
		"infringement_summary"
	],
	"properties": {

		"id": { "$ref": "$refs/common.json#/uuid" },

		"barrier_type": {
			"type": "object",
			"required": [
				"id",
				"title"
			],
			"properties": {

				"id": { "$ref": "$refs/common.json#/small-int" },
				"title": { "$ref": "$refs/common.json#/words" }
			}
		},

		"barrier_title": {
			"type": "string",
			"faker": "lorem.words"
		},

		"summary": { "$ref": "$refs/common.json#/paragraph" },

		"report": {
			"type": "object",
			"required": [
				"id",
				"problem_status",
				"company"
			],
			"properties": {

				"id": { "$ref": "$refs/common.json#/small-int" },

				"problem_status": {
					"type": "number",
					"enum": [ 1, 2, 3 ]
				},

				"company": {
					"$ref": "#/refs/company"
				}
			}
		},

		"current_status": {
			"type": "object",
			"required": [ "status" ],
			"properties": {
				"status": {
					"type": "number",
					"enum": [ 1, 2, 3, 4 ]
				}
			}
		},

		"reported_on": { "$ref": "$refs/common.json#/past-date" },
		"company": { "$ref": "#/refs/company" },
		"export_country": { "$ref": "$refs/common.json#/uuid" },

		"has_legal_infringement": {
			"type": "string",
			"enum": [ "1", "2", "3" ]
		},

		"wto_infringement": { "$ref": "$refs/common.json#/boolean" },
		"fta_infringement": { "$ref": "$refs/common.json#/boolean" },
		"other_infringement": { "$ref": "$refs/common.json#/boolean" },
		"infringement_summary":  { "$ref": "$refs/common.json#/paragraph" }
	},

	"refs": {
		"company": {
			"type": "object",
			"required": [
				"id",
				"name",
				"sector_id",
				"sector_name"
			],
			"properties": {

				"id": { "$ref": "$refs/common.json#/uuid" },
				"name": { "$ref": "$refs/common.json#/words" },
				"sector_id": { "$ref": "$refs/common.json#/uuid" },
				"sector_name": { "$ref": "$refs/common.json#/words" }
			}
		}
	}
}
