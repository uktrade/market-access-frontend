{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"title": "Detail of a report",

	"type": "object",
	"required": [
		"id",
		"problem_status",
		"is_resolved",
		"resolved_date",
		"sectors_affected",
		"sectors",
		"companies",
		"product",
		"source",
		"other_source",
		"barrier_type",
		"barrier_title",
		"problem_description",
		"current_status",
		"reported_on",
		"reported_by",
		"export_country",
		"has_legal_infringement",
		"wto_infringement",
		"fta_infringement",
		"other_infringement",
		"infringement_summary"
	],
	"properties": {

		"id": { "$ref": "$refs/common.json#/uuid" },

		"problem_status": {
			"type": "number",
			"enum": [ 1, 2 ]
		},

		"is_resolved": { "$ref": "$refs/common.json#/boolean" },
		"resolved_date": { "$ref": "$refs/common.json#/past-date" },
		"sectors_affected": { "$ref": "$refs/common.json#/boolean" },

		"sectors": {
			"type": "array",
			"minItems": 0,
			"maxItems": 5,
			"items": { "$ref": "$refs/common.json#/uuid" }
		},

		"companies": {
			"type": "array",
			"minItems": 0,
			"maxItems": 5,
			"items": {
				"type": "object",
				"required": [
					"id",
					"name"
				],
				"properties": {
					"id": { "$ref": "$refs/common.json#/uuid" },
					"name": { "$ref": "$refs/common.json#/words" }
				}
			}
		},

		"product": { "$ref": "$refs/common.json#/words" },

		"source": {
			"type": "string",
			"enum": [ "COMPANY", "TRADE", "GOVT", "OTHER" ]
		},

		"other_source":{ "$ref": "$refs/common.json#/words" },
		"barrier_type": { "$ref": "$refs/common.json#/barrier_type" },

		"barrier_title": {
			"type": "string",
			"faker": "lorem.words"
		},

		"problem_description": { "$ref": "$refs/common.json#/paragraph" },

		"current_status": {
			"type": "object",
			"required": [ "status", "status_summary" ],
			"properties": {
				"status": {
					"type": "number",
					"enum": [ 1, 2, 3, 4 ]
				},
				"status_summary": { "$ref": "$refs/common.json#/paragraph" }
			}
		},

		"reported_on": { "$ref": "$refs/common.json#/past-date" },
		"reported_by": {
			"type": "string",
			"faker": "name.findName"
		},
		"export_country": { "$ref": "$refs/common.json#/uuid" },

		"has_legal_infringement": {
			"type": "string",
			"enum": [ "1", "2", "3" ]
		},

		"wto_infringement": { "$ref": "$refs/common.json#/boolean" },
		"fta_infringement": { "$ref": "$refs/common.json#/boolean" },
		"other_infringement": { "$ref": "$refs/common.json#/boolean" },
		"infringement_summary":  { "$ref": "$refs/common.json#/paragraph" }
	}
}
