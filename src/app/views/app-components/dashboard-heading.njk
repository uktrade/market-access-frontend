{% from 'app-components/tabs.njk' import tabs %}

{% macro dashboardHeading( data, isBarriers = false, isReports = false, isMyCountry = false ) %}

	<h1 class="govuk-heading-l">
		<span class="govuk-caption-m">Market access barriers</span> Dashboard
	</h1>

	<a href="{{ urls.reports.new() }}" role="button" class="dash-button">
		<span class="dash-button__heading">Report a barrier</span>
		<span class="dash-button__text">
			Report a market access barrier that is emerging, ongoing or has been resolved.
		</span>
	</a>

	<div class="dash-card">
		<h2 class="dash-card__heading">
			What are market access barriers?
		</h2>
		<p class="dash-card__text">
			<a href="{{ urls.whatIsABarrier() }}">Find out more</a> about what is a non-tariff market access barrier.
		</p>
	</div>

	{{ tabs( [
		{
			text: 'All barriers',
			href: urls.index() if not isBarriers,
			skip: not ( data.all.count >= 0 )
		},{
			text: 'My country',
			href: urls.index() if not isMyCountry,
			skip: not ( data.country.count >= 0 )
		},{
			text: 'Unfinished reports',
			href: urls.reports.index() if not isReports,
			skip: data.unfinished.count == 0
		}
	] ) }}
{% endmacro %}
